<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIY Thermal & UV Vision Mod for Meta Quest</title>
    <style>
        /* General Styles */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            background-color: #f4f7f6;
            color: #333;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 1000px;
            margin: 20px auto;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        h1, h2, h3 {
            color: #1a1a1a;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 10px;
        }

        h1 {
            text-align: center;
            font-size: 2.2em;
        }

        h2 {
            font-size: 1.8em;
            margin-top: 30px;
        }

        h3 {
            font-size: 1.4em;
            margin-top: 25px;
        }

        p, li {
            font-size: 1.1em;
        }

        ul, ol {
            padding-left: 30px;
        }

        code {
            background-color: #eee;
            padding: 2px 5px;
            border-radius: 4px;
            font-family: "Courier New", Courier, monospace;
        }

        .disclaimer {
            background-color: #fffbe6;
            border: 1px solid #ffe58f;
            border-radius: 4px;
            padding: 15px;
            font-weight: bold;
            color: #8a6d3b;
        }

        /* Responsive Table Wrapper */
        .table-wrapper {
            overflow-x: auto; /* This is the key fix for responsiveness */
            margin-bottom: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            min-width: 400px; /* Prevents table from becoming too narrow */
        }

        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
            vertical-align: top;
        }

        th {
            background-color: #f9f9f9;
            font-weight: bold;
            font-size: 1.2em;
        }

        /* Component Image Grid */
        .component-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 10px 0;
        }

        .component-item {
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            text-align: center;
            background: #fdfdfd;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .component-item img {
            width: 100%;
            height: 180px; /* Fixed height for uniformity */
            object-fit: cover; /* Ensures image covers the area */
            display: block;
            background-color: #e0e0e0; /* Placeholder color */
        }

        .component-item figcaption {
            padding: 10px;
            font-size: 0.9em;
            font-family: "Courier New", Courier, monospace;
            background: #f9f9f9;
        }

        /* Step-by-Step Guide */
        .step-by-step {
            margin-top: 20px;
        }

        .step {
            margin-bottom: 30px;
        }

        /* Footer */
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            font-size: 0.9em;
            color: #777;
        }

        footer p {
            margin: 5px 0;
            font-size: 1em; /* Relative to footer font-size */
        }

        footer a {
            color: #007bff;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

    </style>
</head>
<body>

    <div class="container">

        <h1>DIY Thermal & UV Vision Mod for Meta Quest</h1>

        <p class="disclaimer">
            <strong>Disclaimer:</strong> This is an advanced DIY project. Proceed at your own risk. This project requires significant technical skill in 3D printing, electronics, and software development (specifically Unity and C#). It will void your Meta Quest warranty. We are not responsible for any damage to your device.
        </p>

        <h2>Project Overview (Quick Guide)</h2>

        <div class="table-wrapper">
            <table>
                <thead>
                    <tr>
                        <th>Page 1: Hardware & Components</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <ul>
                                <li>Meta Quest 2/3/Pro</li>
                                <li>FLIR Lepton 3.x Module</li>
                                <li>Lepton Breakout Board (e.g., Pure Thermal 3)</li>
                                <li>UVC-compatible UV Camera</li>
                                <li>High-power UV LED Flashlight</li>
                                <li>USB-C Hub (Powered)</li>
                                <li>3D Printer & Filament</li>
                                <li>Misc. wires, bolts, soldering iron</li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="table-wrapper">
            <table>
                <thead>
                    <tr>
                        <th>Page 2: Physical Assembly</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <ol>
                                <li>Design/Download 3D printed mount.</li>
                                <li>Print the mount.</li>
                                <li>Solder Lepton to breakout board (if needed).</li>
                                <li>Securely mount all components (Lepton, UV Cam, UV Light) to the 3D print.</li>
                                <li>Attach the entire assembly to the Meta Quest.</li>
                                <li>Manage wiring to the USB-C hub.</li>
                                <li>Connect the hub to the Quest's USB-C port.</li>
                            </ol>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="table-wrapper">
            <table>
                <thead>
                    <tr>
                        <th>Page 3: Software Environment Setup</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <ol>
                                <li>Enable Developer Mode on Quest.</li>
                                <li>Install Unity Hub & Unity (LTS version recommended).</li>
                                <li>Add Android Build Support module to Unity.</li>
                                <li>Install Meta XR SDK (via Package Manager).</li>
                                <li>Install SideQuest or ADB for sideloading.</li>
                                <li>Configure Unity Project (Switch to Android, XR Plugin Mgmt).</li>
                            </ol>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="table-wrapper">
             <table>
                <thead>
                    <tr>
                        <th>Page 4: Application Development & Deployment</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <ol>
                                <li>Create Unity scene with <code>OVRCameraRig</code>.</li>
                                <li>Enable Passthrough (<code>OVRManager</code> & <code>OVRPassthroughLayer</code>).</li>
                                <li>Import a UVC (USB Video Class) plugin from the Unity Asset Store.</li>
                                <li>Write C# script to detect and initialize camera feeds.</li>
                                <li>Render camera feeds to <code>RenderTexture</code>s.</li>
                                <li>Display textures on <code>Quad</code> objects parented to the camera.</li>
                                <li>Add controller logic (<code>OVRInput</code>) to toggle feeds.</li>
                                <li>Build <code>.apk</code> file and sideload to Quest.</li>
                                <li>Test and debug.</li>
                            </ol>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h2>Tools & Components</h2>
        <div class="component-grid">
            <figure class="component-item">
                <img src="metaquest.jpg" alt="Meta Quest Headset">
                <figcaption>metaquest.jpg</figcaption>
            </figure>
            <figure class="component-item">
                <img src="flir-lepton.jpg" alt="FLIR Lepton Thermal Module">
                <figcaption>flir-lepton.jpg</figcaption>
            </figure>
            <figure class="component-item">
                <img src="lepton-breakout.jpg" alt="Lepton Breakout Board (e.g., Pure Thermal)">
                <figcaption>lepton-breakout.jpg</figcaption>
            </figure>
            <figure class="component-item">
                <img src="uv-camera.jpg" alt="UVC Compatible UV Camera">
                <figcaption>uv-camera.jpg</figcaption>
            </figure>
            <figure class="component-item">
                <img src="flashlight.jpg" alt="UV LED Flashlight">
                <figcaption>flashlight.jpg</figcaption>
            </figure>
            <figure class="component-item">
                <img src="usbc.jpg" alt="Powered USB-C Hub">
                <figcaption>usbc.jpg</figcaption>
            </figure>
        </div>

        <h2>Detailed Step-by-Step Guide</h2>
        <div class="step-by-step">

            <div class="step">
                <h3>Section 1: Hardware Assembly & Mounting</h3>
                <ol>
                    <li>
                        <strong>Design or Download 3D Mount:</strong> You will need a custom-designed mount that fits your specific Meta Quest model. This mount must securely hold the FLIR Lepton module, the UV camera, and the UV flashlight. Search platforms like Thingiverse or GrabCAD for "Quest camera mount" as a starting point, but you will likely need to modify it using software like Fusion 360 or Blender.
                    </li>
                    <li>
                        <strong>Prepare the FLIR Lepton:</strong> The Lepton module itself is tiny. It must be connected to a breakout board. The <strong>Pure Thermal 3</strong> is highly recommended as it processes the Lepton's data and presents it to the computer (and thus, the Quest) as a standard UVC (USB Video Class) camera, which is *crucial* for software integration. Carefully follow the instructions to connect the Lepton to the breakout board.
                    </li>
                    <li>
                        <strong>Assemble the Mount:</strong> Once your 3D print is ready, use small bolts and nuts to securely attach the Pure Thermal board, the UV camera, and the UV flashlight. Ensure they are stable and oriented forward.
                    </li>
                    <li>
                        <strong>Wiring & Hub Connection:</strong> This is the central connection point.
                        <ul>
                            <li>Attach the entire 3D printed assembly to the front of your Meta Quest (e.g., using strong double-sided tape, custom straps, or by integrating with the head strap screws).</li>
                            <li>Connect the Pure Thermal board's USB-C port to the powered USB-C hub.</li>
                            <li>Connect the UV Camera's USB port to the hub.</li>
                            <li>Connect the UV Flashlight's power source (this might be a separate USB connection to the hub or its own battery).</li>
                            <li>Connect the USB-C hub's "host" cable to the main USB-C port on the side of your Meta Quest. Using a powered hub ensures the cameras don't drain the Quest's battery instantly.</li>
                        </ul>
                    </li>
                </ol>
            </div>

            <div class="step">
                <h3>Section 2: Software Development Environment Setup</h3>
                <ol>
                    <li>
                        <strong>Enable Developer Mode:</strong> Go to the Meta Quest mobile app, connect to your headset, and enable "Developer Mode" in the settings. This allows you to sideload custom apps.
                    </li>
                    <li>
                        <strong>Install Unity:</strong> Download and install Unity Hub. From the Hub, install a recent LTS (Long-Term Support) version of Unity, such as <strong>Unity 2021.3.x</strong> or <strong>2022.3.x</strong>. During installation, make sure to select the "Android Build Support" module, including "OpenJDK" and "Android SDK & NDK Tools".
                    </li>
                    <li>
                        <strong>Install Meta XR SDK:</strong> In Unity, go to <code>Window > Package Manager</code>. In the top-left, select "Packages: Unity Registry". Find and install the "Meta XR Core SDK" (or it might be listed as "Oculus").
                    </li>
                    <li>
                        <strong>Install SideQuest/ADB:</strong> Install SideQuest on your PC (www.sidequestvr.com). This provides a user-friendly interface for installing (sideloading) <code>.apk</code> files to your Quest and confirms your ADB (Android Debug Bridge) connection is working.
                    </li>
                </ol>
            </div>

            <div class="step">
                <h3>Section 3: Creating the Unity Application</h3>
                <ol>
                    <li>
                        <strong>Project Setup:</strong> Create a new 3D (or URP) project in Unity. Go to <code>File > Build Settings</code>, select "Android", and click "Switch Platform".
                    </li>
                    <li>
                        <strong>Configure XR:</strong> Go to <code>Edit > Project Settings > XR Plug-in Management</code>. Click "Install" and then check the "Oculus" box under the Android tab.
                    </li>
                    <li>
                        <strong>Set Up the Scene:</strong> Delete the default "Main Camera". Find the <code>OVRCameraRig</code> prefab in your project's assets (usually in <code>Assets/Oculus/VR/Prefabs</code>) and drag it into your scene.
                    </li>
                    <li>
                        <strong>Enable Passthrough:</strong> This is the "see-through" part.
                        <ul>
                            <li>Select the <code>OVRManager</code> component (it's part of the <code>OVRCameraRig</code>).</li>
                            <li>Set "Passthrough Support" to "Supported".</li>
                            <li>Add an <code>OVRPassthroughLayer</code> component to the <code>OVRCameraRig</code>. Set its "Placement" to "Underlay" (so 3D objects appear on top).</li>
                            <li>In <code>Project Settings > Oculus</code>, check "Passthrough" under "General".</li>
                        </ul>
                    </li>
                    <li>
                        <strong>Access USB Cameras (The Core Challenge):</strong>
                        <ul>
                            <li>The Meta Quest is an Android device. You cannot use <code>WebCamTexture</code> in Unity to access USB cameras on Quest.</li>
                            <li>You must use a third-party Unity Asset Store plugin that provides UVC support for Android. Search the Asset Store for "Android UVC" or "USB Camera".</li>
                            <li>Purchase and import this plugin into your project. Follow its specific documentation to initialize the cameras. The Pure Thermal board (for FLIR) and your UV camera should both appear as UVC devices.</li>
                            <li>Your C# script will need to request USB permissions at runtime, then list connected UVC devices, and open a connection to get their video feeds as a <code>Texture2D</code> or <code>RenderTexture</code>.</li>
                        </ul>
                    </li>
                    <li>
                        <strong>Display the Camera Feeds:</strong>
                        <ul>
                            <li>In your scene, create two <code>Quad</code> 3D objects (<code>GameObject > 3D Object > Quad</code>).</li>
                            <li>Parent these quads to the <code>CenterEyeAnchor</code> inside the <code>OVRCameraRig</code>. This makes them "float" in front of your vision.</li>
                            <li>Position them to the side, like small Picture-in-Picture windows.</li>
                            <li>Create two new Materials. Assign the live <code>RenderTexture</code>s from your UVC camera script to the "Base Map" (or "Albedo") slot of these materials.</li>
                            <li>Assign these materials to your quads. You should now see the live feeds in your headset.</li>
                        </ul>
                    </li>
                    <li>
                        <strong>Shader for Thermal (Advanced):</strong> The Pure Thermal feed might be grayscale. To make it a "heatmap," you'll need a custom shader. Create a shader that samples the texture's grayscale value and maps it to a color gradient (e.g., blue for cold, red for hot).
                    </li>
                    <li>
                        <strong>Add Controls:</strong> Create a C# script to read controller inputs.
                        <ul>
                            <li>Use <code>OVRInput.GetDown(OVRInput.Button.One)</code> (the 'A' button) to toggle the visibility of the thermal camera quad.</li>
                            <li>Use <code>OVRInput.GetDown(OVRInput.Button.Three)</code> (the 'X' button) to toggle the UV camera quad.</li>
                            <li>Use <code>OVRInput.GetDown(OVRInput.Button.PrimaryIndexTrigger)</code> to toggle the UV flashlight (if it's controllable via USB).</li>
                        </ul>
                    </li>
                </ol>
            </div>

            <div class="step">
                <h3>Section 4: Building & Sideloading</h3>
                <ol>
                    <li>
                        <strong>Configure Player Settings:</strong> Go to <code>Edit > Project Settings > Player</code>.
                        <ul>
                            <li>Under "Other Settings", create a "Package Name" (e.g., <code>com.yourname.thermalquest</code>).</li>
                            <li>Set "Minimum API Level" to 29 or higher.</li>
                            <li>Set "Scripting Backend" to "IL2CPP".</li>
                            <li>Check "ARM64" under "Target Architectures".</li>
                        </ul>
                    </li>
                    <li>
                        <strong>Create Keystore:</strong> Under "Publishing Settings", you'll need to create or use a Keystore to sign your app. Click "Keystore Manager" and create a new one, remembering your password.
                    </li>
                    <li>
                        <strong>Build the App:</strong> Go to <code>File > Build Settings</code>. Ensure your main scene is in the build. Click "Build". Unity will compile your project and output an <code>.apk</code> file.
                    </li>
                    <li>
                        <strong>Sideload to Quest:</strong> Connect your Quest to your PC. Open SideQuest, ensure it's connected (green dot). Drag your new <code>.apk</code> file onto SideQuest to install it.
                    </li>
                    <li>
                        <strong>Run:</strong> Put on your headset. Go to your App Library and find the "Unknown Sources" filter (it's in the top-right search/filter dropdown). Your app (e.g., "thermalquest") will be listed there. Launch it to test.</li>
                </ol>
            </div>

        </div>

        <footer>
            <p>Research by <a href="https://linktr.ee/questrequestvr" target="_blank" rel="noopener noreferrer">@QuestRequestVR</a></p>
            <p>Joenasr</p>
        </footer>

    </div>

</body>
</html>
